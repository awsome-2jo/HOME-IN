"use strict";(self["webpackChunkhome_in_project"]=self["webpackChunkhome_in_project"]||[]).push([[569],{1569:function(t,e,a){a.r(e),a.d(e,{default:function(){return g}});var n=function(){var t=this,e=t._self._c;return e("div",[e("section",{staticClass:"notice-container"},[e("div",{staticClass:"search-area"},[e("select-box",{attrs:{select:t.search.key,options:t.keyOption},on:{"on-change":t.setKey}}),e("form",{attrs:{name:"d"}},[e("text-input",{attrs:{icon:"search",value:t.keyword},on:{"on-change":t.setKeyword}}),e("button",{staticStyle:{display:"none"},on:{click:function(e){return e.preventDefault(),t.onSearch.apply(null,arguments)}}})],1)],1),e("table",[t._m(0),t._m(1),e("tbody",[t._l(t.importantNoticeList,(function(a){return e("tr",{key:`tbody-tr-important-${a.no}`,staticClass:"important-notice",on:{click:function(e){return t.moveDetail(a.no)}}},[e("td",[t._v(t._s(a.no))]),e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.regDate))]),e("td",[t._v(t._s(a.hit))])])})),t.noticeList.length?t._l(t.noticeList,(function(a){return e("tr",{key:`tbody-tr-${a.no}`,on:{click:function(e){return t.moveDetail(a.no)}}},[e("td",[t._v(t._s(a.no))]),e("td",[t._v(t._s(a.title))]),e("td",[t._v(t._s(a.regDate))]),e("td",[t._v(t._s(a.hit))])])})):e("tr",[e("td",{attrs:{colspan:"4"}},[t._v(" 올라온 게시물이 없습니다. ")])])],2),e("round-button",{staticClass:"add-notice-btn",attrs:{text:"공지추가"},on:{event:t.addNotice}})],1),e("div",{staticClass:"page-container",on:{click:t.setPage}},[t.page-2>1?e("a",{attrs:{href:"#"}},[t._v("1")]):t._e(),t.page-3>1?e("span",{staticClass:"ellipsis"},[t._v("…")]):t._e(),t._l([2,1].filter((e=>t.page-e>0)),(function(a){return e("a",{key:"page-btn-"+(t.page-a),attrs:{href:"#"}},[t._v(t._s(t.page-a))])})),e("a",{staticClass:"selected",attrs:{href:"#"}},[t._v(t._s(t.page))]),t._l([1,2].filter((e=>t.page+e<=t.totalpage)),(function(a){return e("a",{key:`page-btn-${t.page+a}`,attrs:{href:"#"}},[t._v(t._s(t.page+a))])})),t.page+3<t.totalpage?e("span",{staticClass:"ellipsis"},[t._v("…")]):t._e(),t.page+2<t.totalpage?e("a",{attrs:{href:"#"}},[t._v(t._s(t.totalpage))]):t._e()],2)])])},s=[function(){var t=this,e=t._self._c;return e("colgroup",[e("col",{attrs:{width:"15%"}}),e("col",{attrs:{width:"50%"}}),e("col",{attrs:{width:"20%"}}),e("col",{attrs:{width:"15%"}})])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("번호")]),e("th",[t._v("제목")]),e("th",[t._v("작성일자")]),e("th",[t._v("조회수")])])])}],o=(a(7658),a(4166)),i=a(3822),c=a(5589),r=a(9817),u=a(5943),l={components:{RoundButton:c.Z,TextInput:r.Z,SelectBox:u.Z},name:"NoticeList",data(){return{importantNoticeList:[],noticeList:[],keyword:"",key:"title",page:1,amount:8,totalpage:1,keyOption:[{text:"제목",value:"title"},{text:"내용",value:"content"}],search:{key:"제목"}}},methods:{onSearch(){this.page=1,this.getListCount(),this.getList(1),this.getList(0)},setPage(t){"A"===t.target.tagName&&(this.page=+t.target.text)},setKeyword(t){this.keyword=t},setKey(t){this.key=t.value,this.search.key=t.text,this.onSearch()},moveDetail(t){this.$router.push(`/notice/detail/${t}`)},getList(t){const e={keyword:this.keyword,key:this.key,amount:this.amount,page:this.page,start:0,type:t?1:0},a=e=>{t?this.importantNoticeList=e.data:this.noticeList=e.data},n=t=>console.log(t);(0,o.vo)(e,a,n)},addNotice(){this.$router.push("/notice/add")},getListCount(){const t={keyword:this.keyword,key:this.key,amount:this.amount},e=t=>{this.totalpage=t.data.totalpage},a=t=>console.log(t);(0,o.Ug)(t,e,a)}},computed:{...(0,i.rn)("UserStore",["userInfo"])},watch:{page(){this.getList()}},created(){this.getListCount(),this.getList(1),this.getList(0)}},h=l,d=a(1001),p=(0,d.Z)(h,n,s,!1,null,"5b56e080",null),g=p.exports},4166:function(t,e,a){a.d(e,{Fy:function(){return c},Ug:function(){return i},ZH:function(){return u},Zt:function(){return r},ul:function(){return l},vo:function(){return o}});var n=a(7877);const s=(0,n.b)();async function o(t,e,a){await s.get("/notice/list",{params:t}).then(e).catch(a)}async function i(t,e,a){await s.get("/notice/list/count",{params:t}).then(e).catch(a)}async function c(t,e,a){s.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),await s.post("/notice/add",t).then(e).catch(a)}async function r(t,e,a){s.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),await s.delete(`/notice/delete/${t}`).then(e).catch(a)}async function u(t,e,a){s.defaults.headers["access-token"]=sessionStorage.getItem("access-token"),await s.put("/notice/modify",t).then(e).catch(a)}async function l(t,e,a){await s.get(`/notice/detail/${t}`).then(e).catch(a)}}}]);
//# sourceMappingURL=569.45ab1adb.js.map